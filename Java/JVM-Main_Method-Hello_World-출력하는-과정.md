2020.10.11

Java Class의 Main Method에다가 Hello World를 출력하는 프로그램을 작성 했을 때 실행되기까지의 과정은 무엇인가요?

<br/> 

1. 컴파일 단계에서 해당 클래스를 바이트 코드로 변환한다 
2. 클래스 로더가 JRE 환경을 조성한 후 해당 클래스를 PATH를 이용해서 로드한다.
3. 이후 실행 엔진으로 넘기게 되고, 실행 엔진 내부의 인터프리터에서 내부 클래스를 행단위로 읽어들인다. 
4. 인터프리터 내부에 Counter가 만족되면 JIT 컴파일러를 이용하여 기계어로 컴파일한다.
5. 이후 런타임 메모리에 올리게 된다! Class 정보는 Metaspace 영역으로 이동한다. 
6. 그 이후 Static Main Method 에 일정한(빈 배열 등) 인자 값을 넘기고 실행한다. 
7. System.out.println() 메서드를 호출하여 Stream 을 통한 출력을 진행한다.
8. Hello World 가 출력된다.
  
<br/>  

만약에 Main Method 내부에서 필요한 객체가 있다면?
  
   + 해당 객체를 생성하기 위해 객체 이름을 읽어서 Metaspace의 Class 정보에 대해 접근하고 
   + 타입을 특정한 뒤 리플렉션하여 클래스 해당 클래스의 메서드, 변수, 생성자 등을 읽고 
   + 생성한 뒤에 Heap 영역에 적재하고 객체를 참조하여 사용한다. 

(Static 변수나 메서드는 Class가 Metaspace 에 올라간 뒤 생성되며, 어떤 상황이든간에 객체보다 빠르게 생성된다.)
