2020.12.04

### Object Immutable?
불변 객체는 상태를 변경할 수 없는 객체를 말한다.

<br/>

**불변 클래스를 만드는 방법**

- 모든 필드를 Final로 만든다.
- 모든 필드를 비공개로 설정하여야 한다.
- 필드에 대한 접근자(Getter) 만을 제공한다.
- 필드에 대한 변경자(Setter)를 제공하지 않는다.
- 컬랙션이나 Date(변경되는 객체 등)를 사용하는 필드에 대하여서는?
    - **기존 필드의 복사본을 반환하여야 한다. (Snepshot)**
    - **Collections.unmodifiable 등의 클래스를 사용하여 수정 불가능한 것을 반환한다.**

<br/>

**불변 클래스를 사용하는 이유?**

- **멀티 쓰레드 환경에서 매우 유용하게 사용된다.**

    → 대부분의 동시성 문제는 여러 스레드가 객체의 상태를 변경할 때 발생한다.

    → 객체가 변경 불가능하게 되어있는 경우 어떠한 위험 없이, 쓰레드가 자유롭게 참조할 수 있다. (락과 같은 별도의 동기화 설정을 할 필요가 없다.)

    → 즉 변경 불가능한 객체는 쓰레드로부터 안전하다.

<br/>

**불변 클래스의 단점은?**

- 어떤 이유로든간에 객체의 필드값을 수정하여야 하는 경우 새로운 객체를 만들어야한다.

    → 값이 여러번 수정되는 객체는 생성하고 재참조하는 시간이 추가적으로 소요된다.